<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HTML5</title>
</head>
<body>
    <canvas id="canvas" style="border:1px solid #aaa;display: block;margin:50px auto;">
        当前浏览器不支持Canvas，请更换浏览器后再试！
    </canvas>
<script type="text/javascript">

    window.onload = function () {
        //<!--canvas的绘制图形是基于状态的-->
        var canvas = document.getElementById("canvas");
        canvas.width = 1200;
        canvas.height = 800;
        var context = canvas.getContext("2d");

        context.globalAlpha = 0.7;
        for(var i = 0;i < 100;i++){
            var R = Math.floor(Math.random()*255);
            var G = Math.floor(Math.random()*255);
            var B = Math.floor(Math.random()*255);
            context.fillStyle = "rgb("+R+","+G+","+B+")";
            context.beginPath();
            context.arc(Math.random()*canvas.width,Math.random()*canvas.height,Math.random()*100,0,Math.PI*2);
            context.fill();
        }

        /*context.fillStyle = "#058";
        context.shadowColor = "gray";
        context.shadowOffsetX = 20;
        context.shadowOffsetY = 20;
        context.shadowBlur = 5;

        context.fillRect(200,200,400,400);*/

    /*    context.font = "bold 40px Arial";

        context.fillStyle = "#058";
        context.fillText("Hello Canvas！",40,100);

        context.lineWidth = 3;
        context.strokeStyle = "#058";
        context.strokeText("Hello Canvas！",40,200);*/




        /**
         * 曲线绘图
         * */



       // fillMoon(context,2,400,400,300,0);
       /* context.arc(400,400,300,0.5*Math.PI,1.5*Math.PI,true);
        context.moveTo(400,100);
        context.arcTo(1200,400,400,700,(400-100)*dis(400,100,1200,400)/(1200-400));
        context.stroke();*/


        //arcToTest(context,150,100,650,100,650,600,600);

       // drawRoundRect(context,100,100,600,500,50);

      /*  fillRoundRect(context,150,150,500,500,10,"#bbada0");
        for(var i = 0 ; i < 4 ; i++){
            for(var j = 0 ; j < 4 ; j++ ){
                fillRoundRect(context,170+i*120,170+j*120,100,100,6,"#cccob3");
            }
        }*/


        /**
         * 线性绘图
         * */

        /*var backCanvas = createBackgroundCanvas();
        var pattern = context.createPattern(backCanvas,"repeat-x");
        context.fillStyle = pattern;
        context.fillRect(0,0,canvas.width,canvas.height);*/

       /* var radiaGrad = context.createRadialGradient(400,400,0,400,400,500);
        radiaGrad.addColorStop(0.0,"white");
        radiaGrad.addColorStop(0.25,"yellow");
        radiaGrad.addColorStop(0.5,"green");
        radiaGrad.addColorStop(0.75,"blue");
        radiaGrad.addColorStop(1.0,"black");
        context.fillStyle = radiaGrad;
        context.fillRect(0,0,canvas.width,canvas.height);*/

       /* var linearGrad = context.createLinearGradient(0,0,400,400);

        linearGrad.addColorStop(0.0,"#fff");
        linearGrad.addColorStop(1.0,"#000");
        context.fillStyle = linearGrad;
        context.fillRect(0,0,800,800);*/

       /* context.fillStyle = "red";
        context.strokeStyle = "#058";
        context.lineWidth = 5;

        context.save();
        context.transform(1,0,0,1,50,100);
        context.fillRect(50,50,300,300);
        context.strokeRect(50,50,300,300);

       context.restore();*/

       /* context.save();
        context.fillStyle = "red";
        context.translate(100,100);
        context.fillRect(0,0,400,400);
        context.restore();
        context.save();
        context.fillStyle = "green";
        context.translate(300,300);
        context.fillRect(0,0,400,400);
        context.restore();*/




     /* var skyStyle = context.createLinearGradient(0,0,0,canvas.height);
        //var skyStyle = context.createRadialGradient(canvas.width/2,canvas.height,0,canvas.width/2,canvas.height,canvas.height);
       skyStyle.addColorStop(0.0,"black");
       skyStyle.addColorStop(1.0,"#035");
        context.fillStyle = skyStyle;
        context.fillRect(0,0,canvas.width,canvas.height);
        for(var i = 0 ;i<200;i++){
            var r = Math.random()*5+5;
            var x = Math.random()*canvas.width;
            var y = Math.random()*canvas.height*0.65;
            var a = Math.random()*360;
            drawStar(context,x,y,r,a);
        }
        fillMoon(context,2,900,200,100,30);
        drawLand(context);
        drawFont(context,"欢迎使用《Canvas》!",100,700);*/




       /* context.lineWidth = 10;
        context.strokeStyle = "#058";

        context.beginPath();
        context.moveTo(100,200);
        context.lineTo(700,200);
        context.lineCap = "butt";
        context.stroke();

        context.beginPath();
        context.moveTo(100,400);
        context.lineTo(700,400);
        context.lineCap = "round";
        context.stroke();

        context.beginPath();
        context.moveTo(100,600);
        context.lineTo(700,600);
        context.lineCap = "square";
        context.stroke();*/

        /*context.beginPath();
        context.moveTo(100,350);
        context.lineTo(500,350);
        context.lineTo(500,200);
        context.lineTo(700,400);
        context.lineTo(500,600);
        context.lineTo(500,450);
        context.lineTo(100,450);
        //context.lineTo(100,350);
        context.closePath();
        context.lineWidth = 10;
        context.fillStyle = "yellow";
        context.strokeStyle = "#058";
        context.fill();
        context.stroke();*/

        //drawRect(context,100,100,400,400,10,"#058","red");
       // drawRect(context,300,300,400,400,10,"#058","rgba(0,256,0,0.5)");

    };
    /**
     * 绘制矩形
     * */
    function drawRect(ctx, x, y, width, height, borderWidth, borderColor, fillColor) {
        ctx.beginPath();
       /* ctx.moveTo(x,y);
        ctx.lineTo(x+width,y);
        ctx.lineTo(x+width,y+height);
        ctx.lineTo(x,y+height);*/
       ctx.rect(x,y,width,height);
        ctx.closePath();
        ctx.lineWidth = borderWidth;
        ctx.fillStyle = fillColor;
        ctx.strokeStyle = borderColor;

        ctx.fill();
        ctx.stroke();
    }

    function drawRect2(ctx, x, y, width, height, borderWidth, borderColor, fillColor) {
        ctx.lineWidth = borderWidth;
        ctx.fillStyle = fillColor;
        ctx.strokeStyle = borderColor;

        ctx.fillRect(x,y,width,height);
        ctx.strokeRect(x,y,width,height);
    }

    function createBackgroundCanvas() {
        var backCanvas = document.createElement("canvas");
        backCanvas.width = 100;
        backCanvas.height = 100;
        var backCanvasContext = backCanvas.getContext("2d");
        drawStar(backCanvasContext,50,50,50,0);
        return backCanvas;
    }

    //画五角星
    function drawStar(cxt,x,y,outerR,rot) {
        cxt.save();
        cxt.translate(x,y);
        cxt.rotate(rot/180*Math.PI);
        cxt.scale(outerR,outerR);
        startPath(cxt);

        cxt.fillStyle = "#fb3";
       // cxt.strokeStyle = "#fd5";
       // cxt.lineWidth = 3;
      //  cxt.lineJoin = "round";

        cxt.fill();
        //cxt.stroke();
        cxt.restore();
    }

    function startPath(cxt) {
        cxt.beginPath();
        for(var i = 0;i < 5;i++){
            cxt.lineTo(Math.cos((18+i*72)/180*Math.PI),
                -Math.sin((18+i*72)/180*Math.PI));
            cxt.lineTo(Math.cos((54+i*72)/180*Math.PI)*0.5,
                -Math.sin((54+i*72)/180*Math.PI)*0.5);
        }
        cxt.closePath();
    }


    function drawRoundRect(cxt, x, y, width, height, radius) {
        cxt.save();
        cxt.translate(x,y);
        pathRoundRect(cxt,width,height,radius);
        cxt.strokeStyle = "black";
        cxt.stroke();
        cxt.restore();
    }

    function pathRoundRect(cxt, width, height, radius) {
        cxt.beginPath();
        cxt.arc(width-radius,height-radius,radius,0,Math.PI/2);
        cxt.lineTo(radius,height);
        cxt.arc(radius,height-radius,radius,Math.PI/2,Math.PI);
        cxt.lineTo(0,radius);
        cxt.arc(radius,radius,radius,Math.PI,Math.PI*3/2);
        cxt.lineTo(width-radius,0);
        cxt.arc(width-radius,radius,radius,Math.PI*3/2,Math.PI*2);
        cxt.closePath();

    }

    function fillRoundRect(cxt,x,y,width,height,radius,fillColor) {
        if (2*radius > width || 2*radius >height){
            return;
        }
        cxt.save();
        cxt.translate(x,y);
        pathRoundRect(cxt,width,height,radius);
        cxt.fillStyle = fillColor || "black";
        cxt.fill();
        cxt.restore();
    }

    function strokeRoundRect(cxt, x, y, width, height, radius, linewidth, strokeColor) {
        if (2*radius > width || 2*radius >height){
            return;
        }
        cxt.save();
        cxt.translate(x,y);
        pathRoundRect(cxt,width,height,radius);
        cxt.lineWidth = linewidth;
        cxt.strokeStyle = strokeColor || "black";
        cxt.stroke();
        cxt.restore();
    }

    function arcToTest(cxt,x0,y0,x1,y1,x2,y2,R) {
        cxt.beginPath();
        cxt.moveTo(x0,y0);
        cxt.arcTo(x1,y1,x2,y2,R);

        cxt.lineWidth = 6;
        cxt.strokeStyle = "red";
        cxt.stroke();

        cxt.beginPath();
        cxt.moveTo(x0,y0);
        cxt.lineTo(x1,y1);
        cxt.lineTo(x2,y2);

        cxt.lineWidth = 2;
        cxt.strokeStyle = "gray";
        cxt.stroke();
    }

    function dis(x1, y1, x2, y2) {
        return Math.sqrt((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2));
    }

    /*
     *
     * @param cxt
     * @param d : 控制点的横坐标的值
     * @param x ： 位置
     * @param y ： 位置
     * @param R ： 半径
     * @param rot ： 旋转值
     * @param fillColor ： 填充颜色
     */

    function fillMoon(cxt, d, x, y, R, rot, fillColor) {
        cxt.save();
        cxt.translate(x,y);
        cxt.rotate(rot*Math.PI/180);
        cxt.scale(R,R);
        pathMoon(cxt,d);
        cxt.fillStyle = fillColor || "#fb5";
        cxt.fill();
        cxt.restore();
    }
    function pathMoon(cxt,d) {
        cxt.beginPath();
        cxt.arc(0,0,1,0.5*Math.PI,1.5*Math.PI,true);
        cxt.moveTo(0,-1);
        cxt.arcTo(d,0,0,1,dis(0,-1,d,0)/d);
        cxt.closePath();
    }

    function drawLand(cxt) {
        cxt.save();

        cxt.beginPath();
        cxt.moveTo(0,600);
        cxt.bezierCurveTo(540,400,660,800,1200,600);
        cxt.lineTo(1200,800);
        cxt.lineTo(0,800);
        cxt.closePath();
        var landStyle = cxt.createLinearGradient(0,800,0,0);
        landStyle.addColorStop(0.0,"#030");
        landStyle.addColorStop(1.0,"#580");
        cxt.fillStyle = landStyle;
        cxt.fill();
        cxt.restore();
    }

    function drawFont(cxt, str,x,y) {
        cxt.font = "bold 30px Arial";

        cxt.fillStyle = "#fff";
        cxt.fillText(str,x,y);

        /*cxt.lineWidth = 3;
        cxt.strokeStyle = "#058";
        cxt.strokeText(str,40,200);*/
    }
</script>
</body>
</html>